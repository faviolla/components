function stickyHeader(){let e,t=0,o=5,n=$(".header-sticky"),a=n.outerHeight();$(window).scroll(function(t){$(this).scrollTop()>a?n.removeClass("default").addClass("fixed"):$(this).scrollTop()<=a&&n.addClass("default").removeClass("fixed"),e=!0}),setInterval(function(){e&&(!function(){let e=$(this).scrollTop();if(Math.abs(t-e)<=o)return;e>t&&e>a?$(".header-sticky").removeClass("nav-down").addClass("nav-up"):e+$(window).height()<$(document).height()&&$(".header-sticky").removeClass("nav-up").addClass("nav-down");t=e}(),e=!1)},250)}function isotopeInit(){let e=$(".template--section-list"),t=$(".template--navigation-list"),o=e.isotope({itemSelector:".template--section-item",layoutMode:"fitRows"});t.on("click","a",function(e){e.preventDefault();let t=$(this).attr("data-filter");o.isotope({filter:t})}),t.each(function(e,t){let o=$(t);o.on("click","a",function(){o.find(".is-active").removeClass("is-active"),$(this).addClass("is-active")})})}function productSlider(){document.querySelectorAll(".product-slider .swiper-container").forEach(function(e){let t=e.closest(".product-slider");return new Swiper(e,{slidesPerView:1,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:3,spaceBetween:10},1280:{slidesPerView:4,spaceBetween:20,navigation:{nextEl:t.getElementsByClassName("product-next"),prevEl:t.getElementsByClassName("product-prev")}},1700:{slidesPerView:5,navigation:{nextEl:t.getElementsByClassName("product-next"),prevEl:t.getElementsByClassName("product-prev")}}}})})}function burgerToggle(){let e=$("body"),t=$(".bg");$(document).on("click",".burger-button",function(){$(this).parents("body").hasClass("opened-burger")?($(this).parents("body").removeClass("opened-burger"),t.removeClass("active")):($(this).parents("body").addClass("opened-burger"),t.addClass("active")),$("body").hasClass("opened-search")&&$("body").removeClass("opened-search")}),$(document).on("click",".bg",function(){e.hasClass("opened-burger")&&(e.removeClass("opened-burger"),$(this).removeClass("active"))})}function mobileSubmenu(){$(document).on("click",".mobile-menu .submenu_section a",function(){$(this).siblings(".submenu").addClass("active")}),$(document).on("click",".mobile-menu .back",function(){$(this).closest(".submenu").removeClass("active")})}function btnComponents(){$(document).on("click",".btn-components",function(){let e=$(this);e.hasClass("active")?e.removeClass("active").siblings(".components-dropdown").removeClass("active"):e.addClass("active").siblings(".components-dropdown").addClass("active")}),$(document).mouseup(function(e){let t=$(".components-dropdown"),o=$(".btn-components");t.is(e.target)||0!==t.has(e.target).length||0!==o.has(e.target).length||(t.removeClass("active"),o.removeClass("active"))})}function promoSlider(){new Swiper(".promo-slider .swiper-container",{loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"fraction"}}),new Swiper(".promo-slider2 .swiper-container",{loop:!1,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{navigation:!1},1280:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}})}function toggleLinkMore(){$(document).on("click",".js-more",function(e){e.preventDefault();var t=$(this).data("less"),o=$(this).data("more"),n=$(this).parents(".text-container");n.hasClass("opened")?(n.removeClass("opened").children(".seo-text").addClass("bg-gradient"),$(this).text(t)):(n.addClass("opened").children(".seo-text").removeClass("bg-gradient"),$(this).text(o))})}function addingGradient(){$(window).on("resize",function(){$(document).find(".text-block").each(function(){$(this).find(".text-block__inner").height()>$(this).height()?$(this).addClass("bg-gradient").siblings(".js-more").css("display","inline-block"):$(this).removeClass("bg-gradient").siblings(".js-more").css("display","none")})}).trigger("resize")}function personalMenuToggle(){$(document).on("click",".js-toggle-pmenu",function(e){e.preventDefault(),$("body").toggleClass("opened-pmenu")}),$(document).mouseup(function(e){var t=$(".personal-nav");t.is(e.target)||0!==t.has(e.target).length||$("body").removeClass("opened-pmenu")})}function filterToggle(){$(document).on("click",".js-filter-title",function(){let e=$(this),t=e.parents(".js-filter-box"),o=e.parents(".horizontal .filter").find(".filter-active");t.hasClass("filter-active")?t.removeClass("filter-active"):(o.removeClass("filter-active"),t.addClass("filter-active"))}),$(document).mouseup(function(e){if($(window).width()>1279){let t=$(".horizontal .js-filter-box.filter-active");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("filter-active")}})}function filterToggleMobile(){let e=$("body"),t=$(".filter-panel__holder"),o=$("#bg-layout");$(document).on("click",".js-filter-toggle",function(n){n.preventDefault(),t.addClass("opened"),o.addClass("active"),e.addClass("filter-opened")}),$(document).on("click","#bg-layout",function(n){n.preventDefault(),t.removeClass("opened"),o.removeClass("active"),e.removeClass("filter-opened"),$(".js-filter-box").removeClass("filter-active")})}function priceSlider(){let e=$(".price_0"),t=$(".price_1"),o=e.data("original-value"),n=t.data("original-value"),a=$(".mse2_number_slider");$(".mse2_number_slider").slider({range:!0,min:o,max:n,values:[o,n],slide:function(o,n){e.val(n.values[0]),t.val(n.values[1])}}),e.change(function(){var o=e.val(),n=t.val();parseInt(o)>parseInt(n)&&(o=n,e.val(o)),a.slider("values",0,o)}),t.change(function(){var o=e.val(),s=t.val();parseInt(s)>n&&t.val(n),o<0&&e.val(o),parseInt(o)>parseInt(s)&&(s=o,t.val(s)),a.slider("values",1,s)})}function stickyMenuActive(){$(".about-product-titles-holder a").bind("click",function(e){e.preventDefault(),$(document).off("scroll"),$(this).addClass("active").siblings("a.about-product-title").removeClass("active");var t=$(this).attr("href");$("html,body").animate({scrollTop:$(t).offset().top-65},600)})}function initStickyProduct(){var e=$(".about-product-titles-1").outerHeight(),t=$(".about-product-section").offset().top-e;$(window).scroll(function(){let o=$(document).scrollTop(),n=$(".stop-sticky-product").offset().top,a=$(".product-scroll-item"),s=a.outerHeight();var i=$(".about-product-titles-1");o>t&&o<n-s-e?a.addClass("sticky").removeAttr("style"):o>n-s-e&&s<$(".about-product-section").outerHeight()?a.removeClass("sticky").css({position:"absolute",bottom:"0"}):a.removeClass("sticky"),o>$(".about-product-section").offset().top&&o<n-200?i.closest(".description-column").addClass("fixed-menu"):i.closest(".description-column").removeClass("fixed-menu")})}function initInputValue(){$(".input").each(function(){$(this).on("blur input",inputHasValue)}),$(".input").each(inputHasValue)}function inputHasValue(){""!=$(this).val()?$(this).addClass("has-value"):$(this).removeClass("has-value")}function autocompleteInit(e){$(e).each(function(e,t){let o=$(t),n=o.data("source");$.get(n,function(e){o.autocomplete({minLength:0,source:e,minLength:1,search:function(e,t){setTimeout(()=>{let e=$(this).autocomplete("widget").find("div"),t=new RegExp("("+this.value+")","i");e.html((e,o)=>o.replace(t,"<span class='active-letter'>$1</span>"))},100)},select:function(e,t){console.log(t.item?"Selected: "+t.item.value+" aka "+t.item.label:"Nothing selected, input was "+this.value),t.item?$("#city-apply").parents(".btn-holder").show():$("#city-apply").parents(".btn-holder").hide()},open:function(e){navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&$(".ui-autocomplete").off("menufocus hover mouseover")},response:function(e,t){t.content.length?$(".no-result").removeClass("show"):($(".no-result").addClass("show"),$("#city-apply").parents(".btn-holder").hide())},change:function(e,t){t.item?$("#city-apply").parents(".btn-holder").show():$("#city-apply").parents(".btn-holder").hide()}})})})}function clearInput(){$(document).on("click",".js-clear-input",function(e){e.preventDefault(),$(this).parents(".input-holder").removeClass("correct").find(".input").val("").removeClass("has-value")})}function showPassword(){$(document).on("click",".js-password",function(){$(this).hasClass("password-active")?($(this).siblings(".input").prop("type","password"),$(this).removeClass("password-active")):($(this).siblings(".input").prop("type","text"),$(this).addClass("password-active"))})}function modalAjaxForm(){$(document).on("submit",".js-send",function(e){e.preventDefault();let t=new FormData(this),o=$(this),n=$("#modal-main"),a=o.data("method")||o.attr("method"),s=o.data("action")||o.attr("action");$.ajax({url:s,type:a,dataType:"json",data:t,cache:!1,contentType:!1,processData:!1,success:function(e){}}),o.attr("data-success")&&$.ajax({url:o.attr("data-success"),type:a,dataType:"text",cache:!1,contentType:!1,processData:!1,success:function(e){n.html(e),n.modal("show"),o.find(".input-holder").removeClass("correct").find("input, select, textarea").not(":input[type=button], :input[type=submit]").val("").removeClass("has-value"),o.find(".rating input").prop("checked",!1)}})})}function initMap(){marker="/img/icons/marker.svg",window.GoogleMap=new google.maps.Map(document.getElementById("map"),{zoom:10,center:{lat:49.994507,lng:36.14574},disableDefaultUI:!0})}$(document).ready(function(){stickyHeader(),productSlider(),burgerToggle(),mobileSubmenu(),btnComponents(),promoSlider(),toggleLinkMore(),addingGradient(),filterToggle(),filterToggleMobile(),priceSlider(),$(".about-product-titles-holder").length>0&&stickyMenuActive(),personalMenuToggle(),initInputValue(),$(".select").styler(),autocompleteInit(".js-autocomplete"),clearInput(),showPassword(),$(".validate_phone").mask("+38 (099) 999 99 99"),$(".form_validate").formValidation(),modalAjaxForm(),initModal(),accordionInit(),hoverDropdownMenu(),initTabs(),dropdown(),toggleComment(),radioTab(),$(".blog-slider").length>0&&blogSlider(),$("#map").length>0&&initMap(),$(".city-list").length>0&&initCityTabs(),$(".point-tab-controls").length>0&&initPointTabs(),$(".js-goto-map").length>0&&goToMap(),$(".product-zoom-elevate").length>0&&initZoomElevate(),$(".easyzoom").length>0&&initEasyZoom(),searchToggle(),$(".kit-slider").length>0&&productKitSlider(),openingBlock(".accordion-title",".accordion-body",".accordion-item"),scrollingUp(".back-to-top"),$(window).on("resize",function(){let e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e>1024&&$(".product-scroll-item").length>0&&initStickyProduct(),e<1280?contentToggleMenu():e>=1280&&$(".nav-list").removeClass("opened")}).trigger("resize");let e=new Swiper(".gallery-thumbs",{watchOverflow:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),t=(new Swiper(".gallery-top",{watchOverflow:!0,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:e},breakpoints:{0:{pagination:{el:".swiper-pagination",clickable:!0}}}}),new Swiper(".gallery-thumbs-v",{watchOverflow:!0,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"vertical"}));new Swiper(".gallery-right",{watchOverflow:!0,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:t},breakpoints:{0:{pagination:{el:".swiper-pagination",clickable:!0}}}});$(document).on("click",".js-add-promo",function(){$(this).hide(),$(this).parents(".promo-link").siblings(".promo-form-holder").show()})}),isotopeInit(),$(window).scroll(function(){var e=$(this).scrollTop();$(".section-item").each(function(){var t=$(this).offset().top,o=$(this).attr("id"),n=$(".about-product-titles-1").outerHeight()+21;e>=t-n&&($(".about-product-titles-holder a.active").removeClass("active"),$('.about-product-titles-holder a[href="#'+o+'"]').addClass("active"))})});let markers=[],contactsArr=[],$arrItems=$(".address__item");function clearMarkers(){for(var e=0;e<markers.length;e++)markers[e].setMap(null)}function goToGmaps(e){let t=$(e).parents(".address__item");return GoogleMap.setCenter({lat:+t.data("gmaps-s"),lng:+t.data("gmaps-n")}),GoogleMap.setZoom(18),$("body").scrollTop(320),$(window).on("resize",function(){if((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<768){let e=$(".shops-section");e.find('[data-content="data-map"]').addClass("active").siblings("[data-content]").removeClass("active"),e.find('[data-tab="data-map"]').addClass("active").siblings("[data-tab]").removeClass("active")}}).trigger("resize"),!1}function initModal(){var e=$("#modal-main");e.on("hidden.bs.modal",function(){}),e.on("show.bs.modal",function(){centerModal(e),initInputValue(),$(".validate_phone").mask("+38 (099) 999 99 99"),$(".form_validate").formValidation(),modalAjaxForm(),$(".select").styler()}),$(document).on("click",".modal-backdrop",function(){}),$(document).on("click","[data-openmodal]",function(t){t.preventDefault();var o=$(this).data("openmodal");let n=$(this),a=n.data("gmaps_s"),s=n.data("gmaps_n");e.load(o,function(){e.modal("show"),n.hasClass("js-toggle-map")&&(initMap(),GoogleMap.setCenter({lat:+a,lng:+s}),marker.setPosition({lat:+a,lng:+s}))})})}function centerModal(e){void 0===e&&(e=$("#modal-main"));var t=$("body"),o=e.find(".modal-dialog"),n=(t.outerWidth()-o.find(".modal-content").outerWidth())/2,a=($(window).outerHeight()-o.outerHeight())/2;o.css("margin-left",n+"px"),a>0?o.css("margin-top",a+"px"):o.css("margin-top","0"),$(window).resize(function(){var o=e.find(".modal-dialog"),n=(t.outerWidth()-o.find(".modal-content").outerWidth())/2;o.css("margin-left",n+"px")})}function accordionInit(){$(document).on("click",".accordion-header",function(){let e=$(this),t=e.parents(".accordion-item");t.hasClass("active")?(t.removeClass("active"),e.siblings().slideUp()):(t.addClass("active"),e.siblings().slideDown())})}function hoverDropdownMenu(){$(".header-nav > li").hover(function(){$(this).children(".menu-dropdown").length&&($(this).stop().addClass("hover"),$(".bg").stop().addClass("active"),$("body").stop().addClass("opened-dropdown"))},function(){$(this).stop().removeClass("hover"),$(".bg").stop().removeClass("active"),$("body").stop().removeClass("opened-dropdown")})}function initTabs(){$(document).on("click","[data-tab]",function(e){e.preventDefault(),$(this).addClass("active").siblings("[data-tab]").removeClass("active"),$(this).parents(".tab-holder").find("[data-content="+$(this).data("tab")+"]").addClass("active").siblings("[data-content]").removeClass("active")})}function toggleComment(){$(document).on("click",".js-toggle-comment",function(e){e.preventDefault(),$(this).toggleClass("opened").siblings(".js-toggle-block").slideToggle()})}function radioTab(){$(document).on("change",".js-radio",function(e){var t=$(this).closest(".tab-link"),o=t.parents(".tab-holder").find("[data-section="+t.data("radio")+"]");t.addClass("active").siblings().removeClass("active"),o.addClass("active").siblings("[data-section]").removeClass("active")})}function searchToggle(){let e=$("body"),t=$(".search-dropdown .input");$(document).on("click",".search-link",function(){e.hasClass("opened-search")?(e.removeClass("opened-search"),$(".bg").removeClass("active"),t.val("")):(e.addClass("opened-search"),$(".bg").addClass("active"))}),$(document).on("click",".opened-search .bg.active",function(){e.removeClass("opened-search"),$(".bg").removeClass("active"),t.val("")})}function showPreloader(){$(".js-preloader").show()}function hidePreloader(){$(".js-preloader").hide()}function blogSlider(){document.querySelectorAll(".blog-slider .swiper-container").forEach(function(e){let t=e.closest(".blog-slider");return new Swiper(e,{slidesPerView:1,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{0:{slidesPerView:1,spaceBetween:10},640:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:2,spaceBetween:10},1280:{slidesPerView:3,spaceBetween:20,navigation:{nextEl:t.getElementsByClassName("blog-next"),prevEl:t.getElementsByClassName("blog-prev")}}}})})}function contentToggleMenu(){$(document).on("click",".content-nav .active",function(){let e=$(this);list=e.closest(".nav-list"),body=$("body"),$bgItem=body.find(".bg-content-layout"),bgItem=$('<div class="bg-content-layout"></div>'),list.hasClass("opened")?(list.removeClass("opened"),$bgItem.fadeOut(500,function(){$(this).remove()})):(list.addClass("opened"),body.append(bgItem))}),$(document).mouseup(function(e){let t=$(".content-nav .nav-list"),o=$(".bg-content-layout");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("opened"),o.fadeOut(500,function(){$(this).remove()}))})}function goToMap(){$(document).on("click",".js-goto-map",function(){let e=$("#map"),t=$(this).data("gmaps-s"),o=$(this).data("gmaps-n");zoom=$(this).data("zoom"),$(".point-item.point-active").removeClass("point-active"),$(this).parents(".point-item").addClass("point-active"),e.data("gmaps-s",t).data("gmaps-n",o),initMap()})}$arrItems.each(function(){let e=$(this),t={gmaps_s:e.data("gmaps-s"),gmaps_n:e.data("gmaps-n"),phone:e.data("phone"),schedule:e.data("schedule"),address:e.data("address"),subway:e.data("subway"),place:e.data("place")};contactsArr.push(t)}),setTimeout(function(){window.SetMarker=function(e,t,o,n,a,s,i){if(0==e||0==t)return;let l=new google.maps.Marker({map:GoogleMap,position:{lat:+e,lng:+t},icon:"../img/icons/marker.svg"}),r=new google.maps.InfoWindow,c="<div class='infoblock'>";c+="<div class='contact-address'>"+o+"</div>",s&&(c+="<div class='subway'><i class='icon-subway'></i><span>"+s+"</span></div>"),i&&(c+="<div class='address__descr'>"+i+"</div>"),c+="<div class='address__contact'><div class='address__phone'><i class='icon-address-phone'></i><a href='tel:"+a+"'>"+a+"</a></div>",c+="<div class='address__time'><i class='icon-address-time'></i><span>"+n+"</span></div></div>",c+="</div>",google.maps.event.addListener(l,"click",function(e,t,o){return function(){o.setContent(t),o.open(GoogleMap,e)}}(l,c,r)),markers.push(l)};for(var e=0;e<contactsArr.length;e++)SetMarker(contactsArr[e].gmaps_s,contactsArr[e].gmaps_n,contactsArr[e].address,contactsArr[e].schedule,contactsArr[e].phone,contactsArr[e].subway,contactsArr[e].place)},1e3);